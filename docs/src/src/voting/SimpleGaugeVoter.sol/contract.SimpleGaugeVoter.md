# SimpleGaugeVoter
[Git Source](https://github.com/aragon/ve-governance/blob/d1db1e959d76056114cf52b0b8a3ff8311778151/src/voting/SimpleGaugeVoter.sol)

**Inherits:**
[ISimpleGaugeVoter](/src/voting/ISimpleGaugeVoter.sol/interface.ISimpleGaugeVoter.md), [IClockUser](/src/clock/IClock.sol/interface.IClockUser.md), ReentrancyGuard, Pausable, PluginUUPSUpgradeable

SPDX-License-Identifier: MIT


## State Variables
### GAUGE_ADMIN_ROLE
The Gauge admin can can create and manage voting gauges for token holders


```solidity
bytes32 public constant GAUGE_ADMIN_ROLE = keccak256("GAUGE_ADMIN");
```


### escrow
Address of the voting escrow contract that will track voting power


```solidity
address public escrow;
```


### clock
Clock contract for epoch duration


```solidity
address public clock;
```


### totalVotingPowerCast
The total votes that have accumulated in this contract


```solidity
uint256 public totalVotingPowerCast;
```


### gaugeList
enumerable list of all gauges that can be voted on


```solidity
address[] public gaugeList;
```


### gauges
address => gauge data


```solidity
mapping(address => Gauge) public gauges;
```


### gaugeVotes
gauge => total votes (global)


```solidity
mapping(address => uint256) public gaugeVotes;
```


### tokenVoteData
*tokenId => tokenVoteData*


```solidity
mapping(uint256 => TokenVoteData) internal tokenVoteData;
```


### __gap
Rest of UUPS logic is handled by OSx plugin


```solidity
uint256[43] private __gap;
```


## Functions
### constructor


```solidity
constructor();
```

### initialize


```solidity
function initialize(address _dao, address _escrow, bool _startPaused, address _clock) external initializer;
```

### pause


```solidity
function pause() external auth(GAUGE_ADMIN_ROLE);
```

### unpause


```solidity
function unpause() external auth(GAUGE_ADMIN_ROLE);
```

### whenVotingActive


```solidity
modifier whenVotingActive();
```

### voteMultiple

extrememly simple for loop. We don't need reentrancy checks in this implementation
because the plugin doesn't do anything other than signal.


```solidity
function voteMultiple(uint256[] calldata _tokenIds, GaugeVote[] calldata _votes)
    external
    nonReentrant
    whenNotPaused
    whenVotingActive;
```

### vote


```solidity
function vote(uint256 _tokenId, GaugeVote[] calldata _votes) public nonReentrant whenNotPaused whenVotingActive;
```

### _vote


```solidity
function _vote(uint256 _tokenId, GaugeVote[] calldata _votes) internal;
```

### reset


```solidity
function reset(uint256 _tokenId) external nonReentrant whenNotPaused whenVotingActive;
```

### _reset


```solidity
function _reset(uint256 _tokenId) internal;
```

### gaugeExists


```solidity
function gaugeExists(address _gauge) public view returns (bool);
```

### isActive


```solidity
function isActive(address _gauge) public view returns (bool);
```

### createGauge


```solidity
function createGauge(address _gauge, string calldata _metadataURI)
    external
    auth(GAUGE_ADMIN_ROLE)
    nonReentrant
    returns (address gauge);
```

### deactivateGauge


```solidity
function deactivateGauge(address _gauge) external auth(GAUGE_ADMIN_ROLE);
```

### activateGauge


```solidity
function activateGauge(address _gauge) external auth(GAUGE_ADMIN_ROLE);
```

### updateGaugeMetadata


```solidity
function updateGaugeMetadata(address _gauge, string calldata _metadataURI) external auth(GAUGE_ADMIN_ROLE);
```

### epochId

autogenerated epoch id based on elapsed time


```solidity
function epochId() public view returns (uint256);
```

### votingActive

whether voting is active in the current epoch


```solidity
function votingActive() public view returns (bool);
```

### epochStart

timestamp of the start of the next epoch


```solidity
function epochStart() external view returns (uint256);
```

### epochVoteStart

timestamp of the start of the next voting period


```solidity
function epochVoteStart() external view returns (uint256);
```

### epochVoteEnd

timestamp of the end of the current voting period


```solidity
function epochVoteEnd() external view returns (uint256);
```

### getGauge


```solidity
function getGauge(address _gauge) external view returns (Gauge memory);
```

### getAllGauges


```solidity
function getAllGauges() external view returns (address[] memory);
```

### isVoting


```solidity
function isVoting(uint256 _tokenId) public view returns (bool);
```

### votes


```solidity
function votes(uint256 _tokenId, address _gauge) external view returns (uint256);
```

### gaugesVotedFor


```solidity
function gaugesVotedFor(uint256 _tokenId) external view returns (address[] memory);
```

### usedVotingPower


```solidity
function usedVotingPower(uint256 _tokenId) external view returns (uint256);
```

